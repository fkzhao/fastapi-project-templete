# Middleware Configuration
# All middleware settings can be configured via environment variables
# Format: MIDDLEWARE_<SETTING_NAME>=<value>

# ============ CORS Middleware ============
MIDDLEWARE_CORS_ENABLED=true
MIDDLEWARE_CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://127.0.0.1:8000
MIDDLEWARE_CORS_CREDENTIALS=true
MIDDLEWARE_CORS_METHODS=*
MIDDLEWARE_CORS_HEADERS=*
MIDDLEWARE_CORS_MAX_AGE=600

# ============ Security Headers Middleware ============
MIDDLEWARE_SECURITY_HEADERS_ENABLED=true
# Enable HSTS only in production with HTTPS
MIDDLEWARE_SECURITY_HSTS_ENABLED=false
MIDDLEWARE_SECURITY_HSTS_MAX_AGE=31536000

# ============ Request ID Middleware ============
MIDDLEWARE_REQUEST_ID_ENABLED=true

# ============ Process Time Middleware ============
MIDDLEWARE_PROCESS_TIME_ENABLED=true

# ============ Request Logging Middleware ============
MIDDLEWARE_REQUEST_LOGGING_ENABLED=true

# ============ Audit Log Middleware ============
MIDDLEWARE_AUDIT_LOG_ENABLED=true
MIDDLEWARE_AUDIT_LOG_METHODS=POST,PUT,DELETE,PATCH
MIDDLEWARE_AUDIT_LOG_EXCLUDE_PATHS=/health,/docs,/redoc,/openapi.json

# ============ Rate Limiting Middleware ============
# Disabled by default for development
MIDDLEWARE_RATE_LIMIT_ENABLED=false
MIDDLEWARE_RATE_LIMIT_PER_MINUTE=60
MIDDLEWARE_RATE_LIMIT_PER_HOUR=1000

# ============ GZip Compression Middleware ============
MIDDLEWARE_GZIP_ENABLED=true
MIDDLEWARE_GZIP_MINIMUM_SIZE=1000

# ============ Trusted Host Middleware ============
# Disabled by default, enable in production
MIDDLEWARE_TRUSTED_HOST_ENABLED=false
MIDDLEWARE_TRUSTED_HOST_ALLOWED=localhost,127.0.0.1,yourdomain.com

# ============ Other Application Settings ============
# Add other application settings here...

